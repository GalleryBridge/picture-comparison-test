## 最小可运行系统

### 后端 (FastAPI)

#### 框架

- 使用 FastAPI 提供 REST API。

- 接口功能：上传 PDF、触发对比、获取结果。

#### 文件存储

- 如果要保留对比记录，需要把原始 PDF / 转换后的图片 / 差分结果图片存到服务器（磁盘或数据库存路径）。

- 如果只临时使用，可以存到 temp/，对比完成后只返回结果，不保存。

#### PDF → 图片

- 用 pdf2image 把 PDF 转换为 PNG（DPI 建议 200–300）。

- 自动 resize，让两张图片尺寸一致。

#### 差分比对 (像素级)

- 用 OpenCV cv2.absdiff()。

- 输出：差分灰度图 + 二值化图。

#### 结果高亮标记

- 在原图上用红色框或透明叠加标记差异区域。

- 返回一个“可预览”的 PNG/JPG。

### 前端 (简易版)

#### 页面结构

- 左边一个上传按钮（上传 PDF A）。

- 右边一个上传按钮（上传 PDF B）。

- 中间一个按钮：调用后端“对比接口”。

- 下方：显示比对结果图片（可缩放/拖动）。

#### 纯HTML + JS 实现
- 上传文件 → POST /compare → 返回结果图片 URL → 前端显示。


### 接口设计（建议）

1. POST /upload

参数：文件 (PDF)

返回：文件 ID / 存储路径

2. POST /compare

参数：file_id_1, file_id_2

后端逻辑：

PDF 转图片（统一分辨率）

差分 → 生成结果图

返回：差分图片 URL

3. GET /result/{id}

返回：某次对比的差分图结果